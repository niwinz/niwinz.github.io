<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>niwi.nz : Converting between clojure data structures and java collections</title>
    <meta name=viewport content='width=200, initial-scale=1'>

  <meta name="desciption" content="In some situations you need convert some data structures of clojure (like vectors, maps or sets) to java collections and vice versa. This problem has simple solution: clojure data structures implements java.util.Collection interface and uses it constructor for make conversion to corresponding types. As first example, you can convert clojure vector to java.util.ArrayList: (def list1 (java.util.ArrayList. [1 2 3])) ;; list1 -&gt; #&lt;ArrayList [1, 2, 3]&gt; (.get list1 0) ;; -&gt; 1 In same..." />
    <meta name="author" content="Andrey Antukh" />

    <link rel="stylesheet" href="https://www.niwi.nz/theme/css/main.css" />

      <link href="https://www.niwi.nz/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="niwi.nz Atom Feed" />

      <link href="https://www.niwi.nz/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="niwi.nz RSS Feed" />

    <!--[if IE]>
        <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!--[if lte IE 7]>
        <link rel="stylesheet" type="text/css" media="all" href="https://www.niwi.nz/css/ie.css"/>
        <script src="https://www.niwi.nz/js/IE8.js" type="text/javascript"></script>
    <![endif]-->

    <!--[if lt IE 7]>
        <link rel="stylesheet" type="text/css" media="all" href="https://www.niwi.nz/css/ie6.css"/>
    <![endif]-->
  </head>

  <body>
    <div id="wrap">
      <div id="container">

        <div class="entry">
  <header>
    <a href="https://www.niwi.nz"><small>(return to home)</small></a>
    <h1>
      <a href="https://www.niwi.nz/2013/10/13/converting-between-clojure-data-structures-and-java-collections/" id="page-title">Converting between clojure data structures and java collections</a>
    </h1>
    <div class="article-meta">
        <small class="time">
          Date:
          <time datetime="2013-10-13T00:00:00+00:00">
            Sun 13 October 2013
          </time>
        </small>
      <br />
      <small class="tags">
        Tags:
          <a href="https://www.niwi.nz/tag/clojure.html">clojure,           </a>
          <a href="https://www.niwi.nz/tag/jvm.html">jvm          </a>
      </small>

      <br />
      <small class="tags">
        Author:
          <span>Andrey Antukh</span>      </small>
    </div>
  </header>
  <article>
    <div id="article-content">
      <p>In some situations you need convert some data structures of clojure (like vectors, maps or sets)
to java collections and vice versa.</p>
<p>This problem has simple solution: clojure data structures implements <strong>java.util.Collection</strong> interface
and uses it constructor for make conversion to corresponding types.</p>
<p>As first example, you can convert clojure vector to <strong>java.util.ArrayList</strong>:</p>
<div class="highlight"><pre><span></span><span class="p">(</span><span class="k">def </span><span class="nv">list1</span> <span class="p">(</span><span class="nf">java.util.ArrayList.</span> <span class="p">[</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">]))</span>
<span class="c1">;; list1 -&gt; #&lt;ArrayList [1, 2, 3]&gt;</span>

<span class="p">(</span><span class="nf">.get</span> <span class="nv">list1</span> <span class="mi">0</span><span class="p">)</span>
<span class="c1">;; -&gt; 1</span>
</pre></div>
<p>In same way, you can convert clojure map to <strong>java.util.HashMap</strong>:</p>
<div class="highlight"><pre><span></span><span class="p">(</span><span class="k">def </span><span class="nv">map1</span> <span class="p">(</span><span class="nf">java.util.HashMap.</span> <span class="p">{</span><span class="s">&quot;a&quot;</span> <span class="mi">1</span> <span class="s">&quot;b&quot;</span> <span class="mi">2</span><span class="p">}))</span>
<span class="c1">;; map1 -&gt; #&lt;HashMap {b=2, a=1}&gt;</span>

<span class="p">(</span><span class="nf">.get</span> <span class="nv">map1</span> <span class="s">&quot;a&quot;</span><span class="p">)</span>
<span class="c1">;; -&gt; 1</span>
</pre></div>
<p>For backward conver from java to clojure data, you can use <strong>into</strong> function:</p>
<div class="highlight"><pre><span></span><span class="p">(</span><span class="nb">into </span><span class="p">[]</span> <span class="p">(</span><span class="nf">java.util.ArrayList.</span> <span class="p">[</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">]))</span>
<span class="c1">;; -&gt; [1 2 3]</span>

<span class="p">(</span><span class="nb">into </span><span class="o">#</span><span class="p">{}</span> <span class="p">(</span><span class="nf">java.util.HashSet.</span> <span class="o">#</span><span class="p">{</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">}))</span>
<span class="c1">;; -&gt; #{1 2 3}</span>

<span class="p">(</span><span class="nb">into </span><span class="o">&#39;</span><span class="p">()</span> <span class="p">(</span><span class="nf">java.util.LinkedList.</span> <span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">)))</span>
<span class="c1">;; -&gt; (3 2 1)</span>

<span class="p">(</span><span class="nb">into </span><span class="p">{}</span> <span class="p">(</span><span class="nf">java.util.HashMap.</span> <span class="p">{</span><span class="ss">:a</span> <span class="mi">1</span> <span class="ss">:b</span> <span class="mi">2</span><span class="p">}))</span>
<span class="c1">;; -&gt;{:b 2, :a 1}</span>
</pre></div>
<p>In clonclusion, clojure has well interoperability with java, and convert form clojure data structures to
java collections is almost transparent.</p>

    </div>
  </article>
        </div>
      </div>

    </div>
  </body>
</html>